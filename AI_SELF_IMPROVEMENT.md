# 🤖 AI Self-Improvement System

ربات شما حالا به یک سیستم **خودبهبودی هوش مصنوعی** مجهز شده که از APIهای رایگان AI استفاده می‌کند تا عملکرد ربات را تحلیل کند و خودش را بهبود بدهد.

## ✨ ویژگی‌ها

- 🔍 **تحلیل خودکار عملکرد**: هر 2 روز یکبار عملکرد ربات را تحلیل می‌کند
- 💡 **پیشنهاد بهبود**: تنظیمات بهینه را پیشنهاد می‌دهد
- 🔧 **اعمال خودکار (اختیاری)**: می‌تواند تنظیمات را خودکار اعمال کند
- 🆓 **رایگان**: از Hugging Face Inference API (رایگان) استفاده می‌کند

## 🚀 نحوه کار

### 1. حالت پیش‌فرض (Preview Only)

به صورت پیش‌فرض، AI فقط **پیشنهادات** می‌دهد و تنظیمات را تغییر نمی‌دهد:

```python
# در config.py
AI_SELF_IMPROVE_AUTO_APPLY = False  # فقط پیشنهاد می‌دهد
```

در این حالت:
- AI عملکرد را تحلیل می‌کند
- پیشنهادات را به تلگرام می‌فرستد
- **اما تنظیمات را تغییر نمی‌دهد** (شما باید دستی اعمال کنید)

### 2. حالت خودکار (Auto-Apply)

اگر می‌خواهید AI خودش تنظیمات را اعمال کند:

```python
# در config.py
AI_SELF_IMPROVE_AUTO_APPLY = True  # خودکار اعمال می‌کند
```

⚠️ **هشدار**: در این حالت AI می‌تواند تنظیمات را تغییر دهد. حتماً قبل از فعال کردن، از کد backup بگیرید.

## 📊 چه چیزهایی تحلیل می‌شود؟

- ✅ Win Rate (نرخ برد)
- ✅ تعداد سیگنال‌ها
- ✅ بهترین/بدترین کوین‌ها
- ✅ تنظیمات فعلی (MIN_CONFIDENCE_SCORE, MIN_AI_CONFIDENCE, ...)
- ✅ الگوهای موفق/ناموفق

## 💡 پیشنهادات AI

AI می‌تواند این تنظیمات را بهینه کند:

- `MIN_CONFIDENCE_SCORE`: اگر win rate پایین است، این را بالا می‌برد
- `MIN_AI_CONFIDENCE`: برای فیلتر کردن سیگنال‌های ضعیف‌تر
- `SYMBOL_MIN_WIN_RATE`: برای حذف کوین‌های بد

## 🔧 تنظیمات پیشرفته

### استفاده از Hugging Face API Key (اختیاری)

برای استفاده بهتر از Hugging Face، می‌توانید API Key رایگان بگیرید:

1. به [Hugging Face](https://huggingface.co/) بروید
2. حساب کاربری بسازید
3. API Token بسازید (Settings → Access Tokens)
4. در `.env` اضافه کنید:

```
HUGGINGFACE_API_KEY=your_token_here
```

### استفاده از OpenAI (اختیاری)

اگر OpenAI API Key دارید:

```
OPENAI_API_KEY=your_key_here
```

## 📱 گزارش‌های تلگرام

هر بار که AI تحلیل می‌کند، یک گزارش به تلگرام می‌فرستد:

```
🤖 AI Self-Improvement Report

📊 Analyzed 45 signals
📈 Win Rate: 58.2%

Recommended Changes:
💡 Suggested: MIN_CONFIDENCE_SCORE = 0.55 → 0.60
   Reason: Win rate is good but can be improved by being more selective
```

## ⚙️ زمان‌بندی

- **اولین اجرا**: بعد از 24 ساعت (نیاز به داده دارد)
- **اجرای بعدی**: هر 48 ساعت یکبار
- **حداقل داده**: نیاز به حداقل 20 سیگنال برای تحلیل

## 🛡️ امنیت

- در حالت پیش‌فرض (`AUTO_APPLY=False`)، هیچ تغییری اعمال نمی‌شود
- تمام تغییرات در تاریخچه ذخیره می‌شوند
- می‌توانید هر زمان غیرفعال کنید

## 🔄 غیرفعال کردن

اگر نمی‌خواهید از این قابلیت استفاده کنید، کافی است در `main.py` خط مربوط به `ai_improvement_task` را کامنت کنید.

---

**موفق باشید! 🤖✨**

